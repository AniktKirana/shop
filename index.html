<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="Providing fresh Dryfruits within Nashik in just 24 hrs">
    <meta name="author" content="Yash Kumat">
    <title>Ankit Kirana</title>
    
    <link rel="icon" href="dryfruits.png">

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.2/css/all.min.css" integrity="sha512-HK5fgLBL+xu6dm/Ii3z4xhlSUyZgTT9tuc/hSrtw6uzJOvgRr2a9jyxxT1ely+B+xFAmJKVSTbpM/CuL7qxO8w==" crossorigin="anonymous" />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BmbxuPwQa2lc/FVzBcNJ7UAyJxM6wuqIj61tLrc4wSX0szH/Ev+nYRRuWlolflfl" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css" />

        <style>
      html {
        scroll-behavior: smooth;
      }
      @media only screen and (max-width: 600px) {
        .card{
          display: flex;
          flex-direction: row;
          align-items: center;
          justify-content: center;
        }
        .card img{
          width: 150px;
          height: 150px;
        }
        #bottomCart{
          font-size: x-large;
        }
        .input-group > form{
          display: flex;
          flex-direction: column;
        }
        .input-group>.form-control, .input-group>.form-select>.add-button{
          width: 100%;
        }
      }
    </style>
  </head>
  <body>
    
<header>
  <div class="collapse bg-dark" id="navbarHeader">
    <div class="container">
      <div class="row">
        <div class="col-sm-8 col-md-7 py-4">
          <h4 class="text-white">About</h4>
          <div class="row py-4">
            <div class="col-sm-4">
              <img src="ankitsanket.jpeg" alt="" class="img-fluid rounded-circle">
            </div>
            <div class="col-sm-8 d-flex align-items-center">
              <p class="text-muted text- justify p-4">Ankit Chordiya & Sanket Chordiya have started this service to expand their family business at Ghoti and take it online for their customer to experience fast and reliable service. We serve FRESH, HEALTHY AND HAND PICKED dryfruits, grocery, masala, etc at best possible price, within Nashik in just 24 Hours.</p>
            </div>
          </div>
        </div>
        <div class="col-sm-4 offset-md-1 py-3">
          <h4 class="text-white">Contact</h4>
          <div class="row py-5">
            <small class="text-muted py-2 mb-1">Click to Call or Find us on google.</small>
            <ul class="list-unstyled">
              <li><a href="tel:+919359273913" class="text-white"><i class="mx-2 fas fa-phone"></i> Ankit Chordiya</a></li>
              <li><a href="tel:+918149332155" class="text-white"><i class="mx-2 fas fa-phone"></i> Sanket Chordiya</a></li>
              <br>
              <li><a href="https://goo.gl/maps/eDPeU5wbMBMzYKkW8" class="text-white" target="_blank"><i class="mx-2 fas fa-map-marked-alt"></i> Anmol Nayantara Gold, Pathardi phata, Nashik - 422010</a></li>
            </ul>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="navbar navbar-dark bg-dark shadow-sm">
    <div class="container">
      <a href="#yourCart" class="d-flex align-items-center text-white" style="text-decoration: none;">
        <i class="fas fa-shopping-cart"></i><span class="mx-2 badge rounded-pill bg-light text-dark totalCartItems">0</span>
      </a>
      <button class="navbar-toggler" onclick="toggleInfoButton()" type="button" data-bs-toggle="collapse" data-bs-target="#navbarHeader" aria-controls="navbarHeader" aria-expanded="false" aria-label="Toggle navigation">
        <i class="fas fa-info-circle text-white" id="infoButton"></i>
      </button>
    </div>
  </div>
</header>

<main>

  <section class="py-5 text-center container">
    <div class="row py-lg-3">
      <div class="col-lg-6 col-md-8 mx-auto">
        <h1 class="fw-light display-1">Ankit Kirana</h1>
        <p class="lead text-muted">get Fresh and Healthy dryfruits, grocery, masala and all other kirana items delivered at your home within 24 hours at best Guaranteed price.</p>
        <p>
          <a href="#ourProducts" class="btn btn-primary m-2 bg-success">Shop Now <i class="fas fa-box text-warning mx-1"></i></a>
          <a href="tel:+918149332155" class="btn btn-secondary m-2">Contact Us <i class="fas fa-phone mx-1"></i></a>
          <a href="https://wa.me/9921139978/?text=I%20want%20to%20buy%20things%20in%20list%20sent%20below." class="btn btn-warning m-2">WhatsApp List <i class="fab fa-whatsapp text-success mx-1"></i></a>
        </p>
      </div>
    </div>
  </section>

  <section id="ourProducts">
    <div class="album py-5 bg-light">
      <div class="container">
  
      <div class="display-4 my-4">Our Products</div>
        <div class="row row-cols-1 row-cols-sm-2 row-cols-md-3 g-3 d-flex justify-content-center" id="productsList">
        </div>
      </div>
    </div>
  </section>
  

  <div class="speciality py-5 bg-dark text-success">
    <div class="container">
      <div class="row">
          <div class="col-sm-4 py-3 text-center display-3"><i class="fas fa-tree mx-1"></i> Fresh</div>
          <div class="col-sm-4 py-3 text-center display-3"><i class="fas fa-heartbeat mx-1"></i> Healthy</div>
          <div class="col-sm-4 py-3 text-center display-3"><i class="fas fa-american-sign-language-interpreting mx-1"></i> Best</div>
      </div>
    </div>
  </div>

  <section id="yourCart">
    <div class="cart py-5">
      <div class="container">
          <div class="display-4 my-4 text-end">Your cart</div>
          <small class="text-muted">Double click to remove item.</small>
          <table class="table">
            <thead>
              <tr>
                <th scope="col">#</th>
                <th scope="col">Item</th>
                <th scope="col">Quantity</th>
                <th scope="col">Price</th>
                <th scope="col">Subtotal</th>
              </tr>
            </thead>
            <tbody id="table">
              <tr id="noItems">
                <td colspan="5" class="text-center py-3">No items added yet! <br><a href="#ourProducts" class="btn btn-sm mt-2 btn-success">Shop Now</a></td> 
              </tr>
            </tbody>
          </table>

          <div class="text-center h3">
              Total - <i class="fas fa-sm fa-rupee-sign"></i> <span id="total">0</span>
          </div>
      </div>
  </div>
  </section>
  

  <div class="bg-light placeorder">
    <div class="container">
      
      <div class="text-start display-4 pt-5">
        WhatsApp Order
      </div>
      <small class="text-muted">Enter your name, address and send automatically generated message on WhatsApp. We will then contact you soon.</small>

      <div class="input-group pt-4">
        <input type="text" aria-label="First name" id="name" placeholder="Name" class="form-control m-1">
      </div>
      <div class="input-group">
        <input type="text" aria-label="Address" id="address" placeholder="Address" class="form-control m-1">
      </div>
      <div class="input-group m-1">
        <button type="button" onclick="whatsAppOrder()" class="btn btn-primary btn-sm btn-success">WhastApp Order <i class="fab fa-whatsapp mx-2"></i></button>
      </div>

      <ul class="p-4 text-danger fw-lighter fs-6" id="errors"></ul>
    </div>
  </div>

</main>

<footer class="text-muted py-5">
  <div class="container">
    <p class="float-end mb-1">
      <a href="#"><i class="fas fa-lg fa-chevron-circle-up text-dark"></i></a>
    </p>
    <p class="mb-0">Made with <i class="fas fa-heart text-danger"></i> by <a href="mailto:ykumat@gmail.com">Yash Kumat.</a></p>
  </div>
</footer>

<div class="text-end fixed-bottom m-2">
  <a href="#yourCart" class="animate__animated" id="bottomCart">
    <i class="fas fa-shopping-cart text-danger"></i><span style="font-size: large;" class="badge rounded-pill text-danger totalCartItems">0</span>
  </a>
</div>


<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/js/bootstrap.bundle.min.js" integrity="sha384-b5kHyXgcpbZJO/tY9Ul7kGkf1S0CWuKcCD38l8YkeH8z8QjE0GmW1gYU5S9FOnJ0" crossorigin="anonymous"></script>

<script>

  let items = {
    0 : ['White Urad Dal',100,'whiteuraddal.jpeg'],
    1 : ['Black Urad Dal', 100,'blackuraddal.png'],
    2 : ['Groundnut', 115, 'groundnut.jpeg'],
    3: ['Swastik Poha', 50, 'swastikpoha.jpg'],
    4: ['Samrat Besan', 90, 'samratbesan.jpg'],
    5: ['Moong Dal', 105, 'moongdal.png'],
    6: ['Tur Dal', 105, 'turdal.jpeg'],
    7: ['Chana Dal', 75, 'chanadal.jpg'],
    8: ['Masoor Dal', 80, 'masoordal.jpg'],
    9: ['Mooth', 100, 'mooth.jpeg'],
    10: ['Masoor', 100, 'masoor.png'],
    11: ['moong', 80, 'moong.jpg'],
    12: ['Samrat Rava', 40, 'samratrava.jpg'],
    13: ['Samrat Maida', 40, 'samratmaida.jpg'],
    14: ['Kaju', 750, 'kaju.jpg'],
    15: ['Badam', 700, 'badam.jpeg'],
    16: ['Kishmish', 380, 'kishmish.jpg'],
    19: ['Bhagar', 110, 'bhagar.jpg'],
    21: ['Sabudana', 60, 'sabudana.jpg'],
    17: ['Copra', 240, 'copra.jpg'],
    20: ['Kabuli Chana', 120, 'kabolichana.jpg'],
    18: ['Green Peas', 150, 'greenpeas.jpg'],
  };
  
  toggleInfoButton = () => {
    var element = document.getElementById("infoButton");
   element.classList.toggle("fa-times");
  }

  window.onload = () => {

    let products = ''

      for(let i=0;i<Object.keys(items).length;i++){

        products += `<div class="col">`+
            `<div class="card shadow-sm">`+
                `<img class="card-img-top" width="100%" height="225" src="${items[i][2]}" alt="">`+
                `<div class="card-body">`+
                  `<h5 class="card-title itemName">${items[i][0]}</h5>`+
                  `<div class="my-2"><i class="fas fa-rupee-sign"></i> <b>${items[i][1]} </b>/ Kg</div>`+
                  `<form onsubmit="event.preventDefault(); addItem('${i}');"class="cartForm" >`+
                    `<div class="input-group">`+
                      `<input type="text" onkeypress='return checkIfNumber(event)' name="quantity" class="form-control" aria-label="Text input with segmented dropdown button" placeholder="Enter Quantity">`+
                      `<select class="form-select" name="weight" aria-label="Weight" >`+
                        `<option value="1">Kilograms</option>`+
                        `<option value="2">Grams</option>`+
                      `</select>`+
                      `<button type="submit" class="btn btn-outline-secondary">Add</button>`+
                    `</div>`+
                  `</form>`+
                `</div>`+
            `</div>`+
        `</div>`;
      }

      document.getElementById('productsList').innerHTML = products

  }

  let cart = []

  let total = 0

  addItem = (itemId) => { 
    
    if(document.getElementsByName('quantity')[itemId].value == '' || document.getElementsByName('quantity')[itemId].value == 0){
      document.getElementsByName('quantity')[itemId].style["boxShadow"] = '0 0 3px 1px #ff0033'
      document.getElementsByName('quantity')[itemId].style["z-index"] = '9999'
      return false
    }
    
    var element = document.getElementById("bottomCart");
    element.classList.add('animate__flash')

    setTimeout(()=>{
      element.classList.remove('animate__flash')
    }, 2000)
    
    document.getElementsByName('quantity')[itemId].style["boxShadow"] = ''

    var quantity = parseInt(document.getElementsByName('quantity')[itemId].value);
    
    var weight = parseInt(document.getElementsByName('weight')[itemId].value);

    var newItem = [];

    newItem.push(itemId)
    newItem.push(quantity)
    newItem.push(weight)

    cart.push(newItem)

    buildCart()

    document.getElementsByClassName('cartForm')[itemId].reset()
    document.getElementsByName('quantity')[itemId].value = ''
  }

  buildCart = () => {

      document.getElementById("table").innerHTML = ''

      let i = 0;

      let subTot = 0

      cart.forEach(item => {
        i++

        var table = document.getElementById("table");
        var row= document.createElement("tr");
        row.setAttribute("id", i);
        row.setAttribute("ondblclick", `deleteItem(${i})`);
        var th = document.createElement("th");
        var name = document.createElement("td");
        var quantity = document.createElement("td");
        var price = document.createElement("td");
        var subtotal = document.createElement("td");

        th.innerHTML = i
        name.innerHTML = items[item[0]][0]

        if(item[2] == 1){
          quantity.innerHTML = item[1] + ' Kgs'
          subtotal.innerHTML = (items[item[0]][1] * item[1]) + `&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<i class="fas fa-trash text-danger" onclick="deleteItem(${i})"></i>`
          subTot += items[item[0]][1] * item[1]

        }else{
          quantity.innerHTML = item[1] + ' Grams'
          subtotal.innerHTML = ((items[item[0]][1]/1000) * item[1]) + `&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<i class="fas fa-trash text-danger" onclick="deleteItem(${i})"></i>`
          subTot += (items[item[0]][1]/1000) * item[1]
        }

        price.innerHTML = items[item[0]][1]

        row.appendChild(th);
        row.appendChild(name);
        row.appendChild(quantity);
        row.appendChild(price);
        row.appendChild(subtotal);

        table.appendChild(row);

        totalAmount(subTot)
      })

      
      let cartDisplay = document.getElementsByClassName('totalCartItems')
      Array.from(cartDisplay).forEach((el) => {
      el.innerHTML = cart.length

      total = subTot
      
    });
    
  }

  function checkIfNumber(evt) {
    var charCode = (evt.which) ? evt.which : evt.keyCode
    return !(charCode > 31 && (charCode < 48 || charCode > 57));
  }

  totalAmount = (subTotal) => {
    total = subTotal
    document.getElementById('total').innerHTML = total
  }

  deleteItem = (a) => {
    cart.splice(a-1,1)
    buildCart()
    if(cart.length == 0){
      document.getElementById('table').innerHTML = '<tr id="noItems"><td colspan="5" class="text-center py-3">No items added!<br><a href="#ourProducts" class="btn btn-sm mt-2 btn-success">Shop Now</a></td></tr>'
      totalAmount(0)
    }
  }

  whatsAppOrder = () => {

    if(validateOrder()){
      
        let order = ''

        let name = document.getElementById('name').value
        let address = document.getElementById('address').value    

        order += 'Thanking for ordering from Ankit Dryfruits.\n\n'

        order += 'Name: ' +name + '\n'
        order += 'Address: ' + address + '\n'

        order += '\nOrder:\n'

        

        let i=0
        cart.forEach(item=>{
          i++

          order += i+ '. ' + items[item[0]][0] + ' - '
          if(item[2] == 1){
            order += item[1] + ' Kgs \n'
          }else{
            order += item[1] + ' Grams \n'
          } 
        })
        order += '\n'

        order += "Total amount to be paid: " + total

        let num = +919921139978

        let msg = encodeURI(order);

        var win = window.open(`https://wa.me/${num}/?text=${msg}`, '_blank');
    }

  }

  validateOrder = () => {

    let err = ''

    if(document.getElementById('name').value == ''){
      err +='<li>Please enter name!</li>'
    }

    if(document.getElementById('address').value == ''){
      err += '<li>Please enter address!</li>'
    }

    if(document.getElementById('total').innerHTML == 0){
      err += '<li>Please add Items!</li>'
    }

    if(err == ''){
      return true
    }else{
      document.getElementById('errors').innerHTML = err
      return false
    }
    
  }


</script>
      
  </body>
</html>
